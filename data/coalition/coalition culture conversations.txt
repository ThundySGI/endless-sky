# Copyright (c) 2021 by Arachi-Lover
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <https://www.gnu.org/licenses/>.

mission "Coalition Folklore: Saryd"
	minor
	invisible
	to offer
		random < 30
	source
		attributes "saryd"
		attributes "folklore"
	on offer
		conversation
			`<CN-8867>`
			`<CN-8868>`
			choice
				`<CN-8869>`
				`<CN-3862>`
					decline
			`<CN-8870>`
			choice
				`<CN-8871>`
				`<CN-8872>`
					decline
			`<CN-8873>`
			`<CN-8874>`
			`<CN-8875>`
			choice
				`<CN-8876>`
					goto seed
				`<CN-8877>`
					goto pearl
				`<CN-8878>`
			`<CN-8879>`
			`<CN-8880>`
			`<CN-8881>`
			`<CN-8882>`
			`<CN-8883>`
				goto end
			label seed
			`<CN-8884>`
			`<CN-8880>`
			`<CN-8885>`
			`<CN-8886>`
			`<CN-8887>`
				goto end
			label pearl
			`<CN-8888>`
			`<CN-8880>`
			`<CN-8889>`
			`<CN-8890>`
			`<CN-8891>`
			`<CN-8892>`
			label end
			`<CN-8893>`
			`<CN-8894>`
				decline



mission "Coalition Folklore: Arach"
	minor
	invisible
	to offer
		random < 30
	source
		attributes "arach"
		attributes "folklore"
	on offer
		conversation
			`<CN-8895>`
			choice
				`<CN-8896>`
				`<CN-8897>`
					decline
			`<CN-8898>`
			choice
				`<CN-8899>`
				`<CN-8900>`
					decline
			`<CN-8901>`
			`<CN-8902>`
			choice
				`<CN-8903>`
				`<CN-8904>`
			`<CN-8905>`
			`<CN-8906>`
			`<CN-8907>`
			`<CN-8908>`
			`<CN-8909>`
			choice
				`<CN-8910>`
				`<CN-835>`
					goto leave
			`<CN-8911>`
			`<CN-8912>`
			`<CN-8913>`
			`<CN-8914>`
			choice
				`<CN-8910>`
				`<CN-835>`
					goto leave
			`<CN-8915>`
			`<CN-8916>`
			`<CN-8917>`
			`<CN-8918>`
			choice
				`<CN-8919>`
					goto end
				`<CN-835>`
			label leave
			`<CN-8920>`
				decline
			label end
			`<CN-8921>`
			`<CN-8922>`
			`<CN-8923>`
			choice
				`<CN-8924>`
				`<CN-8925>`
			`<CN-8926>`
				decline



mission "Coalition Folklore: Kimek"
	minor
	invisible
	to offer
		random < 30
	source
		attributes "kimek"
		attributes "folklore"
	on offer
		conversation
			`<CN-8927>`
			choice
				`<CN-8928>`
				`<CN-8929>`
					decline
			`<CN-8930>`
			`<CN-8931>`
			choice
				`<CN-8932>`
					goto attack
				`<CN-8933>`
					goto defend
				`<CN-8934>`
			`<CN-8935>`
			`<CN-8936>`
			choice
				`<CN-8937>`
					goto attack
				`<CN-8938>`
			label defend
			`<CN-8939>`
			`<CN-8940>`
			`<CN-8941>`
			choice
				`<CN-8942>`
					goto "defend r"
				`<CN-8943>`
					goto "defend w"
			label "defend r"
			`<CN-8944>`
			choice
				`<CN-8945>`
					goto "defend rw"
				`<CN-8946>`
			`<CN-8947>`
				goto won
			label "defend rw"
			`<CN-8948>`
				goto lost
			label "defend w"
			`<CN-8949>`
			choice
				`<CN-8945>`
					goto "defend ww"
				`<CN-8946>`
			`<CN-8950>`
				goto lost
			label "defend ww"
			`<CN-8951>`
				goto lost
			label attack
			`<CN-8952>`
			`<CN-8953>`
			`<CN-8954>`
			choice
				`<CN-8955>`
					goto "attack w"
				`<CN-8956>`
					goto "attack r"
			label "attack w"
			`<CN-8957>`
			choice
				`<CN-8958>`
					goto "attack wr"
				`<CN-8959>`
			`<CN-8960>`
				goto lost
			label "attack wr"
			`<CN-8961>`
				goto lost
			label "attack r"
			`<CN-8962>`
			choice
				`<CN-8958>`
					goto "attack rr"
				`<CN-8963>`
			`<CN-8960>`
				goto lost
			label "attack rr"
			`<CN-8964>`
			label won
			`<CN-8965>`
			`<CN-8966>`
				decline
			label lost
			`<CN-8967>`
			`<CN-8968>`
				decline



mission "Coalition Departing Trouble - A"
	minor
	invisible
	to offer
		has "Coalition: First Contact: done"
		random < 2
	source
		government "Coalition"
		not attributes "coalition station"
	on enter
		fail
		conversation
			`<CN-8969>`
			`<CN-8970>`
			branch heliarch
				has "joined the heliarchs"
			branch lunarium
				has "joined the lunarium"
			`<CN-8971>`
				decline
			label heliarch
			`<CN-8972>`
				decline
			label lunarium
			`<CN-8973>`
	npc
		personality launching fleeing uninterested
		government "Heliarch"
		fleet
			names "heliarch"
			variant
				"Heliarch Hunter"
				"Heliarch Interdictor"
				"Heliarch Breacher"



mission "Coalition Departing Trouble - B"
	minor
	invisible
	to offer
		has "Coalition: First Contact: done"
		random < 2
	source
		government "Coalition"
	on enter
		fail
		conversation
			`<CN-8974>`
			branch heliarch
				has "joined the heliarchs"
			branch lunarium
				has "joined the lunarium"
			branch neither
				not "joined the heliarchs"
				not "joined the lunarium"
			label heliarch
			`<CN-8975>`
			`<CN-8976>`
				decline
			label lunarium
			`<CN-8975>`
			`<CN-8977>`
				decline
			label neither
			`<CN-8975>`
				decline
	npc
		personality waiting fleeing uninterested
		government "Heliarch"
		fleet
			names "heliarch"
			variant
				"Heliarch Punisher"
				"Heliarch Interdictor"
				"Heliarch Hunter"
				"Heliarch Neutralizer"
		fleet
			names "saryd"
			variant
				"Saryd Visitor"
				"Saryd Runabout"
		fleet
			names "kimek"
			variant
				"Kimek Spire"
				"Kimek Thistle"
		fleet
			names "arach"
			variant
				"Arach Spindle"
				"Arach Transport"



mission "Coalition Departing Trouble - C"
	minor
	invisible
	to offer
		has "Coalition: First Contact: done"
		not "assisting lunarium"
		not "joined the heliarchs"
		random < 2
	source
		government "Coalition"
	on enter
		fail
		conversation
			`<CN-8978>`
			`<CN-8979>`
			branch lunarium
				has "joined the lunarium"
			`<CN-8980>`
			`<CN-8981>`
				decline
			label lunarium
			`<CN-8982>`
			`<CN-8983>`
	npc
		personality waiting staying uninterested surveillance
		government "Heliarch"
		fleet
			names "heliarch"
			fighters
				names "heliarch fighter"
			variant
				"Heliarch Punisher"
				"Heliarch Punisher"
				"Heliarch Interdictor"
				"Heliarch Interdictor"
				"Heliarch Hunter"
				"Heliarch Hunter"
				"Heliarch Judicator"
				"Heliarch Judicator"
				"Heliarch Pursuer" 4
				"Heliarch Rover" 4
				"Heliarch Stalker" 4
				"Heliarch Neutralizer"
				"Heliarch Neutralizer"
				"Heliarch Neutralizer"
				"Heliarch Breacher"
				"Heliarch Breacher"
				"Heliarch Breacher"



mission "Coalition Incident: Secret Sky"
	minor
	invisible
	to offer
		has "Coalition: First Contact: done"
		random < 3
	source "Secret Sky"
	on offer
		conversation
			`<CN-8984>`
			`<CN-8985>`
			choice
				`<CN-8986>`
				`<CN-8987>`
					goto end
			`<CN-8988>`
			label end
			`<CN-8989>`
				decline



mission "Coalition Incident: Hunger Tower"
	minor
	invisible
	to offer
		has "Coalition: First Contact: done"
		random < 1
	source
		government "Coalition"
		attributes "kimek"
		not attributes "coalition station"
		not attributes "farming"
	on offer
		conversation
			`<CN-8990>`
			`<CN-8991>`
			`<CN-8992>`
				decline



mission "Coalition Incident: Arach Store"
	minor
	invisible
	to offer
		has "Coalition: First Contact: done"
		random < 2
	source
		government "Coalition"
		attributes "arach"
		not attributes "coalition station"
		not planet "Ahr"
	on offer
		conversation
			`<CN-8993>`
			`<CN-8994>`
			`<CN-8995>`
				decline



mission "Coalition Incident: Ring of Wisdom"
	minor
	invisible
	to offer
		has "Coalition: First Contact: done"
		random < 3
	source "Ring of Wisdom"
	on offer
		conversation
			`<CN-8996>`
			`<CN-8997>`
			`<CN-8998>`
			`<CN-8999>`
			`<CN-9000>`
			`<CN-9001>`
			`<CN-9002>`
				decline
