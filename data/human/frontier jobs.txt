# Copyright (c) 2017 by Michael Zahniser
# Copyright (c) 2018 by Nate Graham
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <https://www.gnu.org/licenses/>.

mission "Frontier delivery [0]"
	name "<NM-206>"
	job
	repeat
	description `<DS-377>`
	cargo random 5 2 .1
	to offer
		random < 30
	source
		government "Republic" "Free Worlds" "Syndicate" "Neutral" "Independent"
		not attributes "frontier"
	destination
		not government "Pirate"
		distance 2 10
		attributes "frontier"
	npc
		government "Pirate"
		personality nemesis harvests plunders
			confusion 30
		system destination
		fleet "Small Northern Pirates"
	npc
		government "Pirate"
		personality nemesis staying harvests plunders
			confusion 30
		system destination
		fleet "Small Northern Pirates" 2
	on complete
		payment 4000 180
		dialog phrase "generic cargo delivery payment"


mission "Frontier delivery [1]"
	name "<NM-206>"
	job
	repeat
	description `<DS-377>`
	cargo random 25 2 .05
	to offer
		random < 25
	source
		government "Republic" "Free Worlds" "Syndicate" "Neutral" "Independent"
		not attributes "frontier"
	destination
		not government "Pirate"
		distance 2 10
		attributes "frontier"
	npc
		government "Pirate"
		personality nemesis harvests plunders
			confusion 20
		system destination
		fleet "Small Northern Pirates" 2
	npc
		government "Pirate"
		personality nemesis staying harvests plunders
			confusion 20
		system destination
		fleet "Small Northern Pirates" 3
	on complete
		payment 4000 180
		dialog phrase "generic cargo delivery payment"


mission "Frontier delivery [2]"
	name "<NM-206>"
	job
	repeat
	description `<DS-377>`
	cargo random 40 2 .02
	to offer
		random < 20
	source
		government "Republic" "Free Worlds" "Syndicate" "Neutral" "Independent"
		not attributes "frontier"
	destination
		not government "Pirate"
		distance 2 10
		attributes "frontier"
	npc
		government "Pirate"
		personality nemesis harvests plunders
		system destination
		fleet "Large Northern Pirates"
	npc
		government "Pirate"
		personality nemesis staying harvests plunders
		system destination
		fleet "Small Northern Pirates"
		fleet "Large Northern Pirates"
	on complete
		payment 4000 180
		dialog phrase "generic cargo delivery payment"


mission "Frontier Emigration [0]"
	name "<NM-207>"
	job
	repeat
	description "<DS-378>"
	passengers 2 10 .9
	to offer
		random < 30
	source
		not government "Pirate"
		attributes "frontier"
		not planet "Shangri-La"
	destination
		distance 2 10
		government "Republic" "Free Worlds" "Syndicate" "Neutral" "Independent"
		not attributes "frontier"
	on complete
		payment 3000 140
		dialog phrase "generic passenger dropoff payment"


mission "Frontier Emigration [1]"
	name "<NM-207>"
	job
	repeat
	description "<DS-378>"
	passengers 4 10 .8
	to offer
		random < 25
	source
		not government "Pirate"
		attributes "frontier"
		not planet "Shangri-La"
	destination
		distance 2 10
		government "Republic" "Free Worlds" "Syndicate" "Neutral" "Independent"
		not attributes "frontier"
	on complete
		payment 3000 140
		dialog phrase "generic passenger dropoff payment"


mission "Frontier Emigration [2]"
	name "<NM-207>"
	job
	repeat
	description "<DS-378>"
	passengers 6 10 .7
	to offer
		random < 20
	source
		not government "Pirate"
		attributes "frontier"
		not planet "Shangri-La"
	destination
		distance 2 10
		government "Republic" "Free Worlds" "Syndicate" "Neutral" "Independent"
		not attributes "frontier"
	on complete
		payment 3000 140
		dialog phrase "generic passenger dropoff payment"


mission "Disaster Relief"
	name "<NM-208>"
	job
	repeat
	description "<DS-379>"
	cargo "disaster relief supplies" 25 2 .05
	deadline
	to offer
		random < 10
	source
		government "Republic" "Free Worlds" "Syndicate" "Neutral" "Independent"
		not attributes "frontier"
	destination
		not government "Pirate"
		distance 2 10
		attributes "frontier"
		not planet "Shangri-La"
	on complete
		payment 10000 160
		dialog "<DL-54>"


mission "Instruct Novice Pilot"
	job
	repeat
	description "<DS-380>"
	to offer
		random < 5
		"combat rating" > 100
	source
		government "Republic" "Free Worlds" "Neutral" "Independent"
		attributes "frontier" "dirt belt" "rim" "north" "south" "mining" "farming"
	stopover
		not government "Pirate"
		attributes "frontier"
		attributes "outfitter"
		attributes "spaceport"
		distance 3 7
	on stopover
		dialog "<DL-166>"
	on visit
		dialog "<DL-167>"
	on complete
		payment 75000
		dialog "<DL-168>"
	npc
		government "Pirate"
		personality nemesis waiting
		fleet "Small Northern Pirates"
		system
			distance 3 7
	npc accompany save
		government "Merchant"
		personality escort heroic vindictive
		fleet
			names "civilian"
			variant
				"Sparrow"
			variant
				"Star Barge"
			variant
				"Shuttle"
			variant
				"Heavy Shuttle"


mission "Small Pirate gambling"
	invisible
	minor
	to offer
		random < 3
		"reputation: Pirate" < 0
		"combat rating" < 200
		credits > 14357
	source
		attributes "dirt belt" "south" "rim" "pirate" "frontier"
	deadline 1
	on offer
		conversation
			`<CN-4090>`
			choice
				`<CN-4091>`
					goto gamble
				`<CN-4092>`
					defer

			label gamble
			`<CN-4093>`
			branch "good luck" "bad luck"
				random < 30

			label "good luck"
			action
				payment 23974
			`<CN-4094>`
				accept

			label "bad luck"
			`<CN-4095>`
			choice
				`<CN-4096>`
					goto call
				`<CN-4097>`
					goto lose

			label lose
			action
				payment -14357
			`<CN-4098>`
				decline

			label call
			`<CN-4099>`
			`<CN-4100>`
			choice
				`<CN-4101>`
					goto shoot
				`<CN-4102>`
					goto run
				`<CN-4103>`
					goto lose

			label shoot
			branch "shoot and die" "shoot and run"
				random < 30

			label "shoot and die"
			`<CN-4104>`
				die

			label "shoot and run"
			action
				payment 23974
			`<CN-4105>`
			`<CN-4106>`
				launch

			label run
			branch "grab and die" "grab and run"
				random < 30

			label "grab and die"
			`<CN-4107>`
				die

			label "grab and run"
			action
				payment 23974
			`<CN-4108>`
			`<CN-4109>`
				launch

	to complete
		never

	npc
		personality launching heroic plunders vindictive nemesis
			confusion 20
		government "Pirate"
		fleet
			names "pirate"
			variant
				"Sparrow" 2
			variant
				"Wasp" 2
			variant
				"Wasp"
				"Sparrow"
