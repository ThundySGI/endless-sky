# Copyright (c) 2017 by Michael Zahniser
# Copyright (c) 2018 by Zitchas
# Copyright (c) 2022 by williaji
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <https://www.gnu.org/licenses/>.

mission "Remnant: Bounty"
	job
	repeat
	name "Nagroda za okaleczenie <npc model>"
	description "Uszkodzony statek Koratha czai sie na terytorium Remnantow. Wytrop go, a nastepnie wroc do <planet>, aby odebrac zaplate w wysokosci <payment>."
	source
		government "Remnant"
	to offer
		has "Remnant: Defense 2: done"
		or
			not "remnant: ssil vida active"
			not "flagship planet: Ssil Vida"
		random < 60
	npc kill
		government "Korath"
		personality coward target uninterested marked waiting
		system
			distance 1 2
		fleet
			names "korath"
			cargo 3
			commodities "Food" "Clothing" "Metal" "Plastic" "Medical" "Heavy Metals"
			variant
				"Palavret (Crippled)"
		dialog "Zniszczyles statek Korath. Mozesz teraz wrocic do <planet>, aby odebrac zaplate."
	on visit
		dialog phrase "generic bounty hunting on visit"
	on complete
		payment 300000
		dialog "Dowodca wojskowy Remnantow dziekuje ci za upolowanie <npc> i wrecza ci uzgodniona kwote <payment>."



mission "Remnant: Bounty 2"
	job
	repeat
	name "Klopotliwa <npc model> nagroda"
	description "Statek Korathow sprawia klopoty na terytorium Remnantow. Wytrop go, a nastepnie wroc do <planet>, aby odebrac zaplate w wysokosci <payment>."
	source
		government "Remnant"
	to offer
		has "Remnant: Salvage 4: offered"
		or
			not "remnant: ssil vida active"
			not "flagship planet: Ssil Vida"
		random < 50
	npc kill
		government "Korath"
		personality heroic vindictive target uninterested waiting marked
		system
			distance 1 2
		fleet
			names "korath"
			cargo 3
			commodities "Food" "Clothing" "Metal" "Plastic" "Medical" "Heavy Metals"
			variant
				"Palavret (Hyperdrive)"
		dialog "Zniszczyles statek Korath. Mozesz teraz wrocic do <planet>, aby odebrac zaplate."
	on visit
		dialog phrase "generic bounty hunting on visit"
	on complete
		payment 400000
		dialog "Dowodca wojskowy Remnant dziekuje ci za upolowanie statku Korath <npc> i wrecza ci uzgodniona zaplate w wysokosci <payment>."



mission "Remnant: Broken Jump Drive job"
	name "Dostawa uszkodzonego napedu rozruchowego"
	description "Badacze na <planet> potrzebuja kolejnego uszkodzonego dysku flash, aby kontynuowac swoj projekt."
	job
	repeat 4
	to offer
		has "Remnant: Broken Jump Drive 5: done"
		or
			not "remnant: ssil vida active"
			not "flagship planet: Ssil Vida"
			
	source
		government "Remnant"
	destination
		government "Remnant"
		attributes outfitter
		not attributes "remnant station"
		not distance 0
	on visit
		dialog phrase "broken jump drive on visit"
	on complete
		outfit "Jump Drive (Broken)" -1
		"remnant: broken jump drive count" ++
		payment 300000
		"reputation: Remnant" ++
		"Remnant: Broken Jump Drive job: offered" --
		dialog "Zespol badawczy szybko rozladowuje zepsuty dysk i placi ci <payment>, po czym spieszy z powrotem do laboratorium."



mission "Remnant: Expanded Horizons Astral job"
	job
	repeat
	name "Wyprawa badawcza do <waypoints>"
	description "Udaj sie do <waypoints> z laboratorium badawczym, aby zebrac dane, a nastepnie wroc do <destination>."
	source
		government "Remnant"
	waypoint
		not attributes "pleiades"
		not attributes "inaccessible"
		not attributes "tangled shroud"
		not attributes "twilight"
		not attributes "outer limits"
		not attributes "beyond patir"
	to offer
		has "Remnant: Expanded Horizons Astral 2: done"
		random < 50
	on offer
		require "Research Laboratory"
	on waypoint
		dialog "Twoj naukowiec rozpakowuje laboratorium i dokonuje zadanych obserwacji. Chwile pozniej dane sa zebrane na zestawie krysztalow danych i informuje cie, ze wszystko jest gotowe do wyjazdu."
	on complete
		payment 500000
		"reputation: Remnant" ++
		dialog "Po wyladowaniu badacz szybko odzyskuje krysztaly danych zawierajace informacje o badanym systemie i wrecza ci przydzial logistyczny <payment>."



mission "Remnant: Bounty 3"
	job
	repeat
	name "Uszkodzona nagroda Rano'erek"
	description "Uszkodzony statek Korath czai sie na terytorium Remnantow. Wytrop go, a nastepnie wroc do <planet>, aby odebrac zaplate w wysokosci <payment>."
	source
		government "Remnant"
	to offer
		# 0.9.13 Compatibility patch
		or
			has "Remnant: Cognizance 4: done"
			has "Remnant: Cognizance 4: failed"
		not "Remnant: Cognizance 4: aborted"
		random < 40
	npc kill
		government "Korath"
		personality heroic vindictive target uninterested waiting marked
		system
			distance 1 2
		fleet
			names "korath"
			cargo 3
			commodities "Food" "Clothing" "Metal" "Plastic" "Medical" "Heavy Metals"
			variant
				"Rano'erek (Crippled)"
		dialog "Zniszczyles statek Korath. Mozesz teraz wrocic do <planet>, aby odebrac zaplate."
	on visit
		dialog phrase "generic bounty hunting on visit"
	on complete
		payment 400000
		dialog "Dowodca wojskowy Remnant dziekuje ci za upolowanie statku Korath <npc> i wrecza ci uzgodniona zaplate w wysokosci <payment>."



mission "Remnant: Bounty 4"
	job
	repeat
	name "Zlecenie Grasujacego Rano'erka"
	description "Statek Korath grasuje na terytorium Remnantow. Wytrop go, a nastepnie wroc do <planet>, aby odebrac zaplate w wysokosci <payment>."
	source
		government "Remnant"
	to offer
		has "Remnant: Cognizance 14: done"
		random < 30
	npc kill
		government "Korath"
		personality heroic vindictive target uninterested waiting marked
		system
			distance 1 2
		fleet
			names "korath"
			cargo 3
			commodities "Food" "Clothing" "Metal" "Plastic" "Medical" "Heavy Metals"
			variant
				"Rano'erek (Crippled)"
		dialog "Zniszczyles statek Korath. Mozesz teraz wrocic do <planet>, aby odebrac zaplate."
	on visit
		dialog phrase "generic bounty hunting on visit"
	on complete
		payment 500000
		dialog "Dowodca wojskowy Remnant dziekuje ci za upolowanie statku Korath <npc> i wrecza ci uzgodniona zaplate w wysokosci <payment>."



mission "Remnant: Bounty 5"
	job
	repeat
	name "Zniszcz zlecenie ataku naziemnego"
	description "Statek Korathow poluje na nasze placowki na Pustkowiach Zaru. Wytrop go, zlikwiduj wraz z wszystkimi mysliwcami, ktorych przewozi, a nastepnie wroc do <planet>, aby odebrac zaplate w wysokosci <payment>."
	source
		government "Remnant"
	to offer
		has "Remnant: Cognizance 29: done"
		or
			not "remnant: ssil vida active"
			not "flagship planet: Ssil Vida"
		random < 5
	npc kill
		government "Korath"
		personality heroic vindictive target marked staying
		system
			attributes "ember waste"
			not attributes "graveyard"
			not attributes "inaccessible"
			not attributes "twilight"
		fleet
			names "korath"
			cargo 3
			commodities "Food" "Clothing" "Metal" "Plastic" "Medical" "Heavy Metals"
			variant
				"Rano'erek (Ground Assault)"
				"'olofez" 4
		dialog "Zniszczyles statek Korath i jego mysliwce. Mozesz teraz wrocic do <planet>, aby odebrac zaplate."
	on visit
		dialog "Wyladowales na <planet>, ale statek Korath i jego mysliwce nie zostaly calkowicie wyeliminowane. Wytrop ich i zniszcz, zanim wrocisz."
	on complete
		payment 400000
		dialog "Dowodca wojskowy Remnant dziekuje ci za upolowanie statku Korath <npc> i jego mysliwcow i wrecza ci uzgodniona zaplate w wysokosci <payment>."



mission "Remnant: Logistics Civil Engineering"
	name "Dostawa cywilna do <planet>"
	description `Inzynierowie na <planet> potrzebuja <cargo> dostawy. Korekta logistyczna wynosi <payment>.`
	cargo "remnant civil" 20 4 .1
	job
	repeat
	to offer
		not "remnant: ssil vida active"
		has "Remnant: Logistics 1: done"
		random < 51
	source
		government "Remnant"
		not planet "Ssil Vida"
	destination
		government "Remnant"
		not distance 0
		not planet "Ssil Vida"
		not planet "Esquiline"
	on visit
		dialog phrase "generic cargo on visit"
	on complete
		dialog `Inzynier projektu dokonuje inspekcji <cargo> i zatwierdza platnosc w wysokosci <payment>.`
		payment
		payment 10000



mission "Remnant: Logistics Industrial Delivery"
	name "Dostawa przemyslowa do <planet>"
	description `Zespoly projektowe w <planet> potrzebuja <cargo> dostaw. Korekta logistyczna wynosi <payment>.`
	cargo "remnant industrial" 20 4 .03
	job
	repeat
	to offer
		not "remnant: ssil vida active"
		has "Remnant: Logistics 1: done"
		"Remnant: Logistics Civil Engineering: done" >= 9
		random < 76
	source
		government "Remnant"
	destination
		government "Remnant"
		not distance 0
		not planet "Ssil Vida"
		not planet "Esquiline"
	on visit
		dialog phrase "generic cargo on visit"
	on complete
		dialog `Technik projektu dokonuje inspekcji <cargo> i zatwierdza platnosc w wysokosci <payment>.`
		payment
		payment 15000



mission "Remnant: Logistics Outfitter Delivery"
	name "Dostawa komponentow do <planet>"
	description `Ekipy naprawcze na <planet> potrzebuja <cargo> czesci. Korekta logistyczna wynosi <payment>.`
	cargo "remnant outfitter repair" 20 3 .04
	job
	repeat
	to offer
		not "remnant: ssil vida active"
		has "Remnant: Logistics 1: done"
		has "license: Remnant"
		"Remnant: Logistics Industrial Delivery: done" >= 9
		random < 30
	source
		government "Remnant"
	destination
		government "Remnant"
		not distance 0
		not planet "Ssil Vida"
		not planet "Esquiline"
	on visit
		dialog phrase "generic cargo on visit"
	on complete
		dialog `Technik dokonujacy naprawy dokonuje przegladu <cargo> czesci i autoryzuje platnosc w wysokosci <payment>.`
		payment
		payment 30000



mission "Remnant: Logistics Salvage Delivery"
	name "Dostawa ratunkowa do <planet>"
	description `Dostarcz <cargo> komponentow z ostatnich operacji ratunkowych do dostawcow na <planet> w celu przeprowadzenia badan, renowacji lub recyklingu. Korekta logistyczna wynosi <payment>.`
	cargo "remnant salvage" 5 4 .06
	job
	repeat
	to offer
		not "remnant: ssil vida active"
		has "Remnant: Logistics 1: done"
		has "license: Remnant Capital"
		"Remnant: Logistics Outfitter Delivery: done" >= 9
		random < 11
	source
		government "Remnant"
	destination
		government "Remnant"
		not distance 0
		not planet "Ssil Vida"
		not planet "Esquiline"
	on visit
		dialog phrase "generic cargo on visit"
	on complete
		dialog `Dwoch uzbrojonych technikow dokonuje inspekcji <cargo> i autoryzuje platnosc w wysokosci <payment>.`
		payment 25000 300



mission "Remnant: Rescue"
	job
	repeat
	name "Poszukiwania i ratownictwo: Zwiad"
	description "<npc> zaginal podczas misji zwiadowczej na Pustkowiach Zaru. Znajdz go i pomoz mu wrocic do <destination>."
	source
		government "Remnant"
	to offer
		has "Remnant: Learn Sign Follow Up: offered"
		random < 10
	npc accompany save
		system
			attributes "ember waste"
			not attributes "ka'het"
			not attributes "inaccessible"
			not attributes "graveyard"
			not government "Remnant"
			not near "Arculus" 3
			near "Arculus" 30
				"all wormholes"
		personality derelict timid plunders
		government "Remnant"
		fleet
			names "remnant"
			variant
				Starling
			variant
				Gull
	on complete
		"remnant: rescue missions" ++
		payment 200000
		dialog
			`Your communicator notifies you of a resource allocation of <payment>.`
	on visit
		dialog
			`You have returned, yet the <npc> is still missing.`



# The Rescue Dummy is meant to commit suicide as soon as possible on entering the randomized system.
ship "Rescue Dummy"
	# sprite "ship/behemoth"
	attributes
		category "Game Mechanics"
		"heat dissipation" 1
		"hull" 1
		"mass" 10
		"drag" 1
		"automaton" 1
		"energy generation" 1
		"thrust" 30
		"turn" 30
	outfits
		"Suicide Gun"
	gun 0 0

outfit "Suicide Gun"
	category "Guns"
	thumbnail "outfit/unknown"
	"gun ports" -1
	weapon
		velocity 100
		lifetime 10
		reload 1
		"blast radius" 900
		"shield damage" 0.01
		"hull damage" 1



mission "Remnant: Rescue 1B"
	job
	repeat
	name "Poszukiwania i ratownictwo: Zwiad"
	description "<npc> zaginal podczas misji zwiadowczej na Pustkowiach Zaru. Znajdz go i pomoz mu wrocic do <destination>."
	source
		government "Remnant"
	to offer
		has "Remnant: Learn Sign Follow Up: offered"
		random < 1
	npc kill
		system
			attributes "ember waste"
			not attributes "ka'het"
			not attributes "inaccessible"
			not attributes "graveyard"
			not government "Remnant"
			not near "Arculus" 3
			near "Arculus" 30
				"all wormholes"
		personality staying heroic nemesis unconstrained
		government "Test Dummy"
		fleet
			names "remnant"
			variant
				"Rescue Dummy"
		dialog
			`As you enter the system, your sensors pick up a lot of debris. Further analysis confirms your worst fears. The <npc> has been destroyed. You frantically spend the next few hours searching for survivors, your hope sinking with every passing minute.`
	on complete
		"remnant: rescue missions" ++
		payment 200000
		dialog
			`You land, and with a heavy heart, report that the <npc> was lost with all hands. The Remnant are saddened at the news, but thank you regardless and hand off your resource allocation of <payment>.`
	on visit
		dialog
			`You have returned, yet the <npc> is still missing.`



mission "Remnant: Rescue 2"
	job
	repeat
	name "Poszukiwania i ratownictwo: Odzyskiwanie"
	description "<npc> zaginal podczas misji odzyskiwania technologii na Pustkowiach Zaru. Znajdz go i pomoz mu wrocic do <destination>."
	source
		government "Remnant"
	to offer
		has "Remnant: Learn Sign Follow Up: offered"
		random < 10
	npc accompany save
		system
			attributes "ember waste"
			not attributes "ka'het"
			not attributes "inaccessible"
			not attributes "graveyard"
			not government "Remnant"
			not near "Arculus" 3
			near "Arculus" 30
				"all wormholes"
		personality derelict timid plunders
		government "Remnant"
		fleet
			names "remnant"
			variant 7
				Gull
			variant 3
				Starling
			variant 3
				Pelican
	on complete
		"remnant: rescue missions" ++
		payment 300000
		dialog
			`Your communicator notifies you of a resource allocation of <payment>, along with a brief note of thanks.`
	on visit
		dialog
			`You have returned, yet the <npc> is still missing.`



mission "Remnant: Rescue 2B"
	job
	repeat
	name "Poszukiwania i ratownictwo: Odzyskiwanie"
	description "<npc> zaginal podczas misji odzyskiwania technologii na Pustkowiach Zaru. Znajdz go i pomoz mu wrocic do <destination>."
	source
		government "Remnant"
	to offer
		has "Remnant: Learn Sign Follow Up: offered"
		random < 3
	npc kill
		system
			attributes "ember waste"
			not attributes "ka'het"
			not attributes "inaccessible"
			not attributes "graveyard"
			not government "Remnant"
			not near "Arculus" 3
			near "Arculus" 30
				"all wormholes"
		personality staying heroic nemesis unconstrained
		government "Test Dummy"
		fleet
			names "remnant"
			variant
				"Rescue Dummy"
		dialog
			`As you enter the system, your sensors pick up a lot of debris. Further analysis confirms your worst fears. The <npc> has been destroyed. You frantically spend the next few hours searching for survivors, your hope sinking with every passing minute.`
	on complete
		"remnant: rescue missions" ++
		payment 300000
		dialog
			`You land, and with a heavy heart, report that the <npc> was lost with all hands. The Remnant are saddened at the news, but thank you regardless and hand off your resource allocation of <payment>.`
	on visit
		dialog
			`You have returned, yet the <npc> is still missing.`



mission "Remnant: Rescue 3"
	job
	repeat
	name "Poszukiwania i ratownictwo: Statek zaopatrzeniowy"
	description "<npc> zaginal podczas dostawy na Pustkowiach Zaru. Znajdz go i pomoz mu wrocic do <destination>."
	source
		government "Remnant"
	to offer
		has "Remnant: Learn Sign Follow Up: offered"
		random < 10
	npc accompany save
		system
			attributes "ember waste"
			not attributes "ka'het"
			not attributes "inaccessible"
			not attributes "graveyard"
			not government "Remnant"
			not near "Arculus" 3
			near "Arculus" 30
				"all wormholes"
		personality derelict timid plunders
		government "Remnant"
		fleet
			names "remnant"
			variant 7
				Pelican
			variant 2
				Gull
	on complete
		"remnant: rescue missions" ++
		payment 300000
		dialog
			`Your communicator notifies you of a resource allocation of <payment>, and also a thank you from the captain of the <npc>.`
	on visit
		dialog
			`You have returned, yet the <npc> is still missing.`



mission "Remnant: Rescue 3B"
	job
	repeat
	name "Poszukiwania i ratownictwo: Statek zaopatrzeniowy"
	description "<npc> zaginal podczas dostawy na Pustkowiach Zaru. Znajdz go i pomoz mu wrocic do <destination>."
	source
		government "Remnant"
	to offer
		has "Remnant: Learn Sign Follow Up: offered"
		random < 3
	npc kill
		system
			attributes "ember waste"
			not attributes "ka'het"
			not attributes "inaccessible"
			not attributes "graveyard"
			not government "Remnant"
			not near "Arculus" 3
			near "Arculus" 30
				"all wormholes"
		personality staying heroic nemesis unconstrained
		government "Test Dummy"
		fleet
			names "remnant"
			variant
				"Rescue Dummy"
		dialog
			`As you enter the system, your sensors pick up a lot of debris. Further analysis confirms your worst fears. The <npc> has been destroyed. You frantically spend the next few hours searching for survivors, your hope sinking with every passing minute.`
	on complete
		"remnant: rescue missions" ++
		payment 300000
		dialog
			`You land, and with a heavy heart, report that the <npc> was lost with all hands. The Remnant are saddened at the news, but thank you regardless and hand off your resource allocation of <payment>.`
	on visit
		dialog
			`You have returned, yet the <npc> is still missing.`



mission "Remnant: Rescue 4"
	job
	repeat
	name "Sygnal alarmowy: Cmentarz"
	description "Otrzymano sygnal SOS od <npc> na cmentarzysku. Postepuj zgodnie z danymi telemetrycznymi, aby je odnalezc i pomoc im bezpiecznie wrocic do <destination>."
	source
		government "Remnant"
	to offer
		has "Remnant: Learn Sign Follow Up: offered"
		has "First Contact: Ka'het: Remnant 1B: offered"
		random < 10
	npc accompany save
		system
			attributes "graveyard"
			not government "Remnant"
			near "Nona" 20
				"only unrestricted wormholes"
		personality escort derelict heroic plunders
		government "Remnant"
		fleet
			names "remnant"
			variant 8
				Albatross
			variant 2
				Ibis
	on complete
		"remnant: rescue missions" ++
		payment 500000
		dialog
			`Upon landing, the captain of the <npc> meets you at your ship to thank you personally for rescuing them from the Graveyard, leaving you with a heartfelt sentence: "May the Embers burn bright for you."`
			`	Soon after, your communicator notifies you of a resource allocation of <payment>.`
	on visit
		dialog
			`You have returned, yet the <npc> has not.`



mission "Remnant: Rescue 5"
	job
	repeat
	name "Poszukiwania i ratownictwo: Terminus"
	description "Podczas zwiadu wokol Terminusa, <npc> przestal sie meldowac. Dowiedz sie, co sie stalo i wroc do <destination>."
	source
		government "Remnant"
	to offer
		has "Remnant: Learn Sign Follow Up: offered"
		random < 10
	npc accompany save
		system
			near "Terminus" 2
		personality derelict timid plunders
		government "Remnant"
		fleet
			names "remnant"
			variant 6
				Gull
			variant 3
				Starling
	on complete
		"remnant: rescue missions" ++
		payment 500000
		dialog
			`Worried that they would never see the Embers again, the captain of the <npc> personally thanks you for bringing them home, even before your communicator notifies you of a resource allocation of <payment>.`
	on visit
		dialog
			`You have returned, but there is still no word from the missing ship.`


mission "Remnant: Disable 1"
	job
	repeat
	name "Wylacz uszkodzonego Dathnaka A'awoj"
	description "Uszkodzony Dathnak A'awoj utknal w nowo udostepnionym systemie, niedaleko Postverty. Ma duza populacje cywilna, dlatego prosimy o jego unieszkodliwienie tylko w celu unikniecia okrucienstwa. Po powrocie do <planet> otrzymasz korekte logistyczna w wysokosci <payment>."
	source
		government "Remnant"
	to offer
		has "Remnant: Will Not Someone Please Think Of The Children: done"
		not "Remnant: Disable 1: aborted"
		not "Remnant: Disable 1: failed"
		random < 5
	npc disable save
		government "Korath"
		personality heroic target marked staying disables plunders
		system
			near "Vaticanus" 1
		fleet
			names "korath"
			variant
				"Kas'lor Ik 582 (Stranded)"
		dialog `Wylaczyles Dathnak A'awoj. Czas zglosic sie do <planet>.`
	on visit
		dialog `Wyladowales na <planet>, ale zablokowany Dathnak A'awoj nie zostal jeszcze unieszkodliwiony. Wytrop go i unieszkodliw przed powrotem.`
	on abort
		dialog `Pozostali sa zszokowani twoim przerwaniem tej misji, ale mowia ci, ze wysla kogos innego do wykonania tej pracy. Radza ci, ze w przyszlosci priorytetowo potraktuja inne zespoly w tych misjach.`
	on fail
		"reputation: Remnant" -= 250
		dialog `Nie udalo Ci sie unieszkodliwic Dathnak A'awoj bez zniszczenia go... Pozostali nie beda zadowoleni...`
	on complete
		"remnant: disable and save count" ++
		payment 2000000
		dialog "Wojskowy prefekt Pozostalosci dziekuje ci za unieszkodliwienie Dathnaka A'awoja <npc> i przekazuje ci uzgodniona korekte logistyczna <payment>."
